/*! hey,xc-cli */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{0:function(t,e){},"0JDW":function(t,e,n){"use strict";n.r(e);var s=n("u55l");var a=n.n(s);for(var i in s)if(i!=="default")(function(t){n.d(e,t,function(){return s[t]})})(i);e["default"]=a.a},"4Ztt":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var s=n("rJAk");Object.defineProperty(e,"default",{enumerable:true,get:function t(){return a(s).default}});function a(t){return t&&t.__esModule?t:{default:t}}},"8I3Y":function(t,e,n){"use strict";var s=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"mint-toast-pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:t.iconClass===""?"10px":"20px"}},[t.iconClass!==""?n("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),n("span",{staticClass:"mint-toast-text",style:{"padding-top":t.iconClass===""?"0":"10px"}},[t._v(t._s(t.message))])])])};var a=[];s._withStripped=true;n.d(e,"a",function(){return s});n.d(e,"b",function(){return a})},GDmp:function(t,e){},Hwc4:function(t,e,n){"use strict";var s=n("GDmp");var a=n.n(s);var i=a.a},Tgqe:function(t,e,n){"use strict";n.r(e);var s=n("vP7j");var a=n("urob");for(var i in a)if(i!=="default")(function(t){n.d(e,t,function(){return a[t]})})(i);var r=n("igdp");var o=n("KHd+");var u=Object(o["a"])(a["default"],s["a"],s["b"],false,null,"42042321",null);if(false){var c}u.options.__file="src/page/home/chat.vue";e["default"]=u.exports},XcHQ:function(t,e,n){"use strict";n.r(e);var s=n("8I3Y");var a=n("0JDW");for(var i in a)if(i!=="default")(function(t){n.d(e,t,function(){return a[t]})})(i);var r=n("Hwc4");var o=n("KHd+");var u=Object(o["a"])(a["default"],s["a"],s["b"],false,null,null,null);if(false){var c}u.options.__file="src/client/component/Vue/mint/toast/src/toast.vue";e["default"]=u.exports},b1DP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var s=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a=n("24Ii");var i=l(a);var r=n("4Ztt");var o=l(r);var u=n("gFX4");var c=l(u);function l(t){return t&&t.__esModule?t:{default:t}}var f=void 0;e.default={data:function t(){return{inputMsg:"",messages:[]}},activated:function t(){document.body.style.background="#ddd";var e=this.toUserName;document.title=e;this.getMessages()},deactivated:function t(){document.body.style.background="#fff"},created:function t(){var s=this;f=(0,c.default)("http://e23.fe.dev.sankuai.com/chat");f.on("getMsg",function(t){alert(JSON.stringify(t));var e=t&&t.msg||{};var n=e.from===s.userName&&e.to===s.toUserName||e.from===s.toUserName&&e.to===s.userName;if(!n){return}if(t.code!==200){(0,o.default)("消息发送失败")}else{s.inputMsg="";s.messages=s.messages.concat(t.msg)}})},computed:{userName:function t(){return window.user.name},toUserName:function t(){return this.$route.query.toUserName},defaultProfile:function t(){return"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1564931888461&di=4e095b77b7e16cab3c0516292caf116f&imgtype=0&src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F01%2F56%2F69%2F585747cfd354024.jpg"}},methods:{sendMsg:function t(){var e={from:this.userName,to:this.toUserName,content:this.inputMsg,createdTime:+new Date};alert(e);alert(s(f.emit));f.emit("sendMsg",e)},isSelfMsg:function t(e){return e===this.userName},getMessages:function t(){var a=this;var e={to:this.toUserName};i.default.get("/api/getmessages",e).end(function(t,e){var n=e&&e.body;if(n.code===200){a.messages=n.data}else{var s=t&&t.message||n.error;(0,o.default)(s)}})}}}},igdp:function(t,e,n){"use strict";var s=n("tBd3");var a=n.n(s);var i=a.a},rJAk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var s=n("oCYn");var a=o(s);var i=n("XcHQ");var r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var u=a.default.extend(r.default);var c=[];var l=function t(){if(c.length>0){var e=c[0];c.splice(0,1);return e}return new u({el:document.createElement("div")})};var f=function t(e){if(e){c.push(e)}};var d=function t(e){if(e.target.parentNode){e.target.parentNode.removeChild(e.target)}};u.prototype.close=function(){this.visible=false;this.$el.addEventListener("transitionend",d);this.closed=true;f(this)};var v=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=e.duration||3e3;var s=l();s.closed=false;clearTimeout(s.timer);s.message=typeof e==="string"?e:e.message;s.position=e.position||"middle";s.className=e.className||"";s.iconClass=e.iconClass||"";document.body.appendChild(s.$el);a.default.nextTick(function(){s.visible=true;s.$el.removeEventListener("transitionend",d);~n&&(s.timer=setTimeout(function(){if(s.closed)return;s.close()},n))});return s};e.default=v},tBd3:function(t,e){},u55l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function t(){return{visible:false}},computed:{customClass:function t(){var e=[];switch(this.position){case"top":e.push("is-placetop");break;case"bottom":e.push("is-placebottom");break;default:e.push("is-placemiddle")}e.push(this.className);return e.join(" ")}}}},urob:function(t,e,n){"use strict";n.r(e);var s=n("b1DP");var a=n.n(s);for(var i in s)if(i!=="default")(function(t){n.d(e,t,function(){return s[t]})})(i);e["default"]=a.a},vP7j:function(t,e,n){"use strict";var s=function(){var n=this;var t=n.$createElement;var s=n._self._c||t;return s("div",{staticClass:"chatPage"},[s("div",{staticClass:"content"},n._l(n.messages,function(t,e){return s("div",{key:e,class:"item "+(n.isSelfMsg(t.from)?"right":"left")},[s("img",{staticClass:"profile",attrs:{src:t.profile||n.defaultProfile}}),n._v(" "),s("div",{staticClass:"msg"},[n._v(n._s(t.content))])])}),0),n._v(" "),s("div",{staticStyle:{height:"50px","padding-bottom":"env(safe-area-inset-bottom)"}}),n._v(" "),s("div",{staticClass:"footer"},[s("input",{directives:[{name:"model",rawName:"v-model",value:n.inputMsg,expression:"inputMsg"}],staticClass:"input",domProps:{value:n.inputMsg},on:{input:function(t){if(t.target.composing){return}n.inputMsg=t.target.value}}}),n._v(" "),s("a",{staticClass:"send",on:{click:n.sendMsg}},[n._v("发送")])])])};var a=[];s._withStripped=true;n.d(e,"a",function(){return s});n.d(e,"b",function(){return a})}}]);
//# sourceMappingURL=chat.a316ba99c15a4c921889.js.map