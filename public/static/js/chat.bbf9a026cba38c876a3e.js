/*! hey,xc-cli */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{0:function(t,e){},"0JDW":function(t,e,n){"use strict";n.r(e);var a=n("u55l");var i=n.n(a);for(var s in a)if(s!=="default")(function(t){n.d(e,t,function(){return a[t]})})(s);e["default"]=i.a},"4Ztt":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=n("rJAk");Object.defineProperty(e,"default",{enumerable:true,get:function t(){return i(a).default}});function i(t){return t&&t.__esModule?t:{default:t}}},"8I3Y":function(t,e,n){"use strict";var a=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("transition",{attrs:{name:"mint-toast-pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:t.iconClass===""?"10px":"20px"}},[t.iconClass!==""?n("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),n("span",{staticClass:"mint-toast-text",style:{"padding-top":t.iconClass===""?"0":"10px"}},[t._v(t._s(t.message))])])])};var i=[];a._withStripped=true;n.d(e,"a",function(){return a});n.d(e,"b",function(){return i})},GDmp:function(t,e,n){var a=n("mHJ+");if(typeof a==="string")a=[[t.i,a,""]];if(a.locals)t.exports=a.locals;var i=n("SZ7m").default;var s=i("334a65ca",a,false,{});if(false){}},Hwc4:function(t,e,n){"use strict";var a=n("GDmp");var i=n.n(a);var s=i.a},Ldbg:function(t,e,n){e=t.exports=n("JPst")(false);e.push([t.i,".chatPage[data-v-42042321] {\n  height: 100vh;\n  padding: 15px;\n  padding-bottom: 50px;\n}\n.chatPage .content .item[data-v-42042321] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.chatPage .content .item .msg[data-v-42042321] {\n  position: relative;\n  line-height: 40px;\n  padding: 0 8px;\n  border-radius: 3px;\n  background: #fff;\n  margin-left: 10px;\n}\n.chatPage .content .item .profile[data-v-42042321] {\n  width: 32px;\n  height: 32px;\n  border-radius: 3px;\n}\n.chatPage .content .item.right[data-v-42042321] {\n  flex-direction: row-reverse;\n}\n.chatPage .content .item.right .msg[data-v-42042321] {\n  margin: 0 10px 0 0;\n  background: #0071c5;\n  color: #fff;\n}\n.chatPage .footer[data-v-42042321] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #eee;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.chatPage .footer .input[data-v-42042321] {\n  flex: 1;\n  height: 30px;\n  border: 0 none;\n  border-radius: 3px;\n  padding: 0 10px;\n}\n.chatPage .footer .send[data-v-42042321] {\n  margin-left: 10px;\n}\n",""])},Tgqe:function(t,e,n){"use strict";n.r(e);var a=n("vP7j");var i=n("urob");for(var s in i)if(s!=="default")(function(t){n.d(e,t,function(){return i[t]})})(s);var r=n("igdp");var o=n("KHd+");var u=Object(o["a"])(i["default"],a["a"],a["b"],false,null,"42042321",null);if(false){var c}u.options.__file="src/page/home/chat.vue";e["default"]=u.exports},XcHQ:function(t,e,n){"use strict";n.r(e);var a=n("8I3Y");var i=n("0JDW");for(var s in i)if(s!=="default")(function(t){n.d(e,t,function(){return i[t]})})(s);var r=n("Hwc4");var o=n("KHd+");var u=Object(o["a"])(i["default"],a["a"],a["b"],false,null,null,null);if(false){var c}u.options.__file="src/client/component/Vue/mint/toast/src/toast.vue";e["default"]=u.exports},b1DP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=n("24Ii");var s=c(a);var i=n("4Ztt");var r=c(i);var o=n("gFX4");var u=c(o);function c(t){return t&&t.__esModule?t:{default:t}}var l=void 0;e.default={data:function t(){return{inputMsg:"",messages:[]}},activated:function t(){document.body.style.background="#ddd";var e=this.toUserName;document.title=e;this.getMessages()},deactivated:function t(){document.body.style.background="#fff"},created:function t(){var a=this;l=(0,u.default)("http://localhost:3031/chat");l.on("getMsg",function(t){var e=t&&t.msg||{};var n=e.from===a.userName&&e.to===a.toUserName||e.from===a.toUserName&&e.to===a.userName;if(!n){return}if(t.code!==200){(0,r.default)("消息发送失败")}else{a.inputMsg="";a.messages=a.messages.concat(t.msg)}})},computed:{userName:function t(){return window.user.name},toUserName:function t(){return this.$route.query.toUserName},defaultProfile:function t(){return"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1564931888461&di=4e095b77b7e16cab3c0516292caf116f&imgtype=0&src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F01%2F56%2F69%2F585747cfd354024.jpg"}},methods:{sendMsg:function t(){var e={from:this.userName,to:this.toUserName,content:this.inputMsg,createdTime:+new Date};l.emit("sendMsg",e)},isSelfMsg:function t(e){return e===this.userName},getMessages:function t(){var i=this;var e={to:this.toUserName};s.default.get("/api/getmessages",e).end(function(t,e){var n=e&&e.body;if(n.code===200){i.messages=n.data}else{var a=t&&t.message||n.error;(0,r.default)(a)}})}}}},igdp:function(t,e,n){"use strict";var a=n("tBd3");var i=n.n(a);var s=i.a},"mHJ+":function(t,e,n){e=t.exports=n("JPst")(false);e.push([t.i,"\n.mint-toast {\n    position: fixed;\n    max-width: 80%;\n    border-radius: 5px;\n    background: #000000;\n    background: rgba(0, 0, 0, .7);\n    color: #fff;\n    box-sizing: border-box;\n    text-align: center;\n    z-index: 3000;\n    transition: opacity .3s linear\n}\n.mint-toast.is-placebottom {\n      bottom: 50px;\n      left: 50%;\n      transform: translate(-50%, 0)\n}\n.mint-toast.is-placemiddle {\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%)\n}\n.mint-toast.is-placetop {\n      top: 50px;\n      left: 50%;\n      transform: translate(-50%, 0)\n}\n.mint-toast__icon {\n      display: block;\n      text-align: center;\n      font-size: 56px\n}\n.mint-toast__text {\n      font-size: 14px;\n      display: block;\n      text-align: center\n}\n.mint-toast__pop-enter, .mint-toast__pop-leave-active {\n      opacity: 0\n}\n",""])},rJAk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=n("oCYn");var i=o(a);var s=n("XcHQ");var r=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var u=i.default.extend(r.default);var c=[];var l=function t(){if(c.length>0){var e=c[0];c.splice(0,1);return e}return new u({el:document.createElement("div")})};var d=function t(e){if(e){c.push(e)}};var f=function t(e){if(e.target.parentNode){e.target.parentNode.removeChild(e.target)}};u.prototype.close=function(){this.visible=false;this.$el.addEventListener("transitionend",f);this.closed=true;d(this)};var p=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=e.duration||3e3;var a=l();a.closed=false;clearTimeout(a.timer);a.message=typeof e==="string"?e:e.message;a.position=e.position||"middle";a.className=e.className||"";a.iconClass=e.iconClass||"";document.body.appendChild(a.$el);i.default.nextTick(function(){a.visible=true;a.$el.removeEventListener("transitionend",f);~n&&(a.timer=setTimeout(function(){if(a.closed)return;a.close()},n))});return a};e.default=p},tBd3:function(t,e,n){var a=n("Ldbg");if(typeof a==="string")a=[[t.i,a,""]];if(a.locals)t.exports=a.locals;var i=n("SZ7m").default;var s=i("48919d71",a,false,{});if(false){}},u55l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function t(){return{visible:false}},computed:{customClass:function t(){var e=[];switch(this.position){case"top":e.push("is-placetop");break;case"bottom":e.push("is-placebottom");break;default:e.push("is-placemiddle")}e.push(this.className);return e.join(" ")}}}},urob:function(t,e,n){"use strict";n.r(e);var a=n("b1DP");var i=n.n(a);for(var s in a)if(s!=="default")(function(t){n.d(e,t,function(){return a[t]})})(s);e["default"]=i.a},vP7j:function(t,e,n){"use strict";var a=function(){var n=this;var t=n.$createElement;var a=n._self._c||t;return a("div",{staticClass:"chatPage"},[a("div",{staticClass:"content"},n._l(n.messages,function(t,e){return a("div",{key:e,class:"item "+(n.isSelfMsg(t.from)?"right":"left")},[a("img",{staticClass:"profile",attrs:{src:t.profile||n.defaultProfile}}),n._v(" "),a("div",{staticClass:"msg"},[n._v(n._s(t.content))])])}),0),n._v(" "),a("div",{staticStyle:{height:"50px","padding-bottom":"env(safe-area-inset-bottom)"}}),n._v(" "),a("div",{staticClass:"footer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.inputMsg,expression:"inputMsg"}],staticClass:"input",domProps:{value:n.inputMsg},on:{input:function(t){if(t.target.composing){return}n.inputMsg=t.target.value}}}),n._v(" "),a("span",{staticClass:"send",on:{click:n.sendMsg}},[n._v("发送")])])])};var i=[];a._withStripped=true;n.d(e,"a",function(){return a});n.d(e,"b",function(){return i})}}]);
//# sourceMappingURL=chat.bbf9a026cba38c876a3e.js.map